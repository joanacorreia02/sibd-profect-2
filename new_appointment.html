<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Appointment</title>
</head>
<body>
    <nav >
        <ul class = "menu" >
            <li><a id="search" href="/search_clients">Search Client</a></li>
            <li><a id="register" href="/new_client">Register Client</a></li>
            <li><a id="doctor" href="/available_doctors">Check Availability</a></li>
            <li><a id="dashboard" href="/">Dashboard</a></li>
        </ul>

    </nav>    
    {% for message in get_flashed_messages() %}
      {{ message }}
    {% endfor %}
    <h1>New Appointment for {{ vat }}</h1>
    <form method="post" onsubmit="return validateTime()">
        <p><label>Date</label></p>
        <input 
            type="date" 
            name="date" 
            id="appointmentDate" 
            placeholder= "e.g. 31-12-2023" required>
        <p><label>Time</label></p>
        <input type="time" 
            name="time" 
            id="appointmentTime" 
            placeholder= "e.g. 15:30" required>
            
        <p><label>Doctor VAT</label></p>    
        <input type="text" 
            name="doctorvat" 
            id="doctorvat" 
            placeholder = "e.g. 111111111" required>
       
        <p><label>Appointment description</label></p>    
        <input 
            type="text" 
            name="description" 
            id="appointmentDescription"
            placeholder = "e.g.Teeth pain">
    
        <input type="submit" value="Create Appointment">
    </form>
  </body>

    <script>
        function validateTime() {
            const selectedTime = document.getElementById('appointmentTime').value;
            const [hours, minutes] = selectedTime.split(':');
            const hoursNum = parseInt(hours, 10);
            if (hoursNum < 9 || hoursNum >= 17) {
                alert('Appointment time must be between 9 am and 5 pm.');
                return false;
            }
            return true;
        }
    </script>
</body>
</html>
